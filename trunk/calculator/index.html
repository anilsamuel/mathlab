<!DOCTYPE html>
<html>
<head>
	<title>Mathlab - Calculator</title>
<link rel="stylesheet"  href="../jquery-mobile/demos/css/themes/default/jquery.mobile-1.1.0.css" />
<script type="text/javascript"
	src="../jquery-mobile/demos/js/jquery.js"></script>
<script type="text/javascript"
	src="../jquery-mobile/demos/js/jquery.mobile-1.1.0.min.js"></script>
<script>
	$(document).ready(function(){
		operands(10);
		$('input[type=number]').hide();
		$('#evaluate').click(function(){
			var operator = $('#operator').val();
			var result;
			if(operator == 'addition')
				result = parseInt($('#op1').text()) + parseInt($('#op2').text());
			else if(operator == 'substraction')
				result = parseInt($('#op1').text()) - parseInt($('#op2').text());
			else if(operator == 'multiplication')
				result = parseInt($('#op1').text()) * parseInt($('#op2').text());
			else if(operator == 'division')
				result = parseInt($('#op1').text()) / parseInt($('#op2').text());
			console.log();
			if(parseInt($('#result').val()) == result)
				$('#feedback').text('Excellent');
			else
				$('#feedback').text('Almost there');
		});
		
		$('#level').change(function(){
			operands($(this).val());
		});
	});
	
	function operands(levelFactor){
		var op1 = Math.floor((Math.random()*levelFactor)+1);
		var op2 = Math.floor((Math.random()*levelFactor)+1);
		
		$('#op1').text(op1);
		$('#op2').text(op2);
		$('#feedback').text('Good luck');
		$('#result').val('');
	}
</script>
</head>
<body>
<div data-role="page"> 
	<div data-role="content">
		<div style="position: absolute; text-align: center;">
			<label for="level">Difficulty level:</label>
			<input type="range" name="level" id="level" value="500" min="0" max="1000" />
			<h1><label class="operand" id="op1"/></h1>
			<select name="operator" id="operator" data-inline="true">
				<option value="addition">+</option>
				<option value="substraction">-</option>
				<option value="multiplication">x</option>
				<option value="division">&divide;</option>
			</select>
			<h1><label class="operand" id="op2"/></h1>
			<h1>=</h1>
			<input type="text" name="result" id="result"/>
			<button type="submit" id="evaluate">Right ?</button>
			<h2><label class="feedback" id="feedback"/></h2>
		</div>
	</div>
</div>
</body>
</html>
